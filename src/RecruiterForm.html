<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Recruiter Form - Jobsy</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
    .progress-bar {
      height: 4px;
      background-color: black;
      width: 0%;
      transition: width 0.4s ease;
    }
    .card {
      transition: transform 0.3s, box-shadow 0.3s;
      cursor: pointer;
      border: 2px solid transparent;
    }
    .card:hover {
      transform: scale(1.02);
    }
    .card.selected {
      border-color: #16a34a;
      background-color: #ecfdf5;
    }
    .form-step {
      transition: opacity 0.5s ease-in-out;
    }
    .upload-box {
      border: 2px dashed #16a34a;
      border-radius: 0.5rem;
      padding: 2rem;
      text-align: center;
      cursor: pointer;
      background-color: #f0fdf4;
      transition: background-color 0.3s ease;
    }
    .upload-box:hover {
      background-color: #dcfce7;
    }
    .step-indicator span {
      margin-right: 1rem;
      font-weight: 500;
      color: gray;
    }
    .step-indicator .active {
      font-weight: 700;
      color: black;
    }
    .chip {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    font-size: 0.875rem;
    font-weight: 500;
    border-radius: 9999px;
    margin: 0.25rem;
    color: white;
  }
  </style>
</head>
<body class="bg-white text-gray-900">
  <!-- NAVBAR -->
<div class="relative z-50">
  <nav class="bg-white shadow px-4 py-3">
  <div class="max-w-7xl mx-auto flex items-center justify-between">
    
    <!-- Left-most: Hamburger -->
    <button id="menuToggle" class="mr-4 focus:outline-none">
      <svg class="w-6 h-6 text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>

    <!-- Center group: Home - JOBSY - Dashboard -->
    <div class="flex items-center space-x-6">
      <a href="#" class="text-gray-700 font-medium">Home</a>
      <h1 class="text-2xl font-bold text-black">JOBSY</h1>
      <a href="#" class="text-gray-700 font-medium">Dashboard</a>
    </div>

    <!-- Right-most: Profile -->
    <div class="relative">
      <button id="profileBtn" class="focus:outline-none">
        <img src="https://i.pravatar.cc/40?img=3" alt="User" class="w-8 h-8 rounded-full" />
      </button>
      <div id="profileDropdown" class="hidden absolute right-0 mt-2 w-40 bg-white border rounded shadow-md">
        <a href="#" class="block px-4 py-2 text-sm hover:bg-gray-100">Profile</a>
        <a href="#" class="block px-4 py-2 text-sm hover:bg-gray-100">Log Out</a>
      </div>
    </div>
  </div>
</nav>


</div>

<!-- SIDE DRAWER -->
<div id="sideDrawer"
  class="fixed top-0 left-0 w-64 h-full bg-white shadow-lg z-40 transform -translate-x-full transition-transform duration-300">
  <div class="p-6">
    <h2 class="text-lg font-bold mb-4">Menu</h2>
    <ul class="space-y-2">
      <li><a href="#" class="block text-gray-800 hover:text-green-600">Home</a></li>
      <li><a href="#" class="block text-gray-800 hover:text-green-600">Dashboard</a></li>
      <li><a href="#" class="block text-gray-800 hover:text-green-600">Recruits</a></li>
      <li><a href="#" class="block text-gray-800 hover:text-green-600">Profile</a></li>
      <li><a href="#" class="block text-gray-800 hover:text-green-600">Settings</a></li>
    </ul>
  </div>
</div>

<!-- BACKDROP -->
<div id="backdrop" class="hidden fixed inset-0 bg-black bg-opacity-40 z-30"></div>

  <div class="text-center py-6">
   

  <div class="text-center mb-4 step-indicator">
    <span id="stepLabel0">Company Info</span>
    <span id="stepLabel1">Job Info</span>
    <span id="stepLabel2">Recruit Preferences</span>
    <span id="stepLabel3">Job Description</span>
    <span id="stepLabel4">Review</span>
  </div>

  <div class="w-full bg-gray-200 h-1 mb-6">
    <div class="progress-bar" id="progressBar"></div>
  </div>

  <form id="recruiterForm" class="max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-md">
    <div class="form-step">
      <h2 class="text-2xl font-bold mb-4">Company Information</h2>
      <input type="text" placeholder="Company Name" id="company_name" name="company_name" class="w-full border border-gray-300 p-3 rounded mb-4" required />
      <input type="text" placeholder="Location" id="company_location" name="location" class="w-full border border-gray-300 p-3 rounded mb-4" required />
      <input type="email" placeholder="Company/HR Email" id="company_email" name="company_email" class="w-full border border-gray-300 p-3 rounded mb-4" required />
    </div>

    <div class="form-step hidden">
      <h2 class="text-2xl font-bold mb-4">Job Information</h2>
      <div class="grid grid-cols-3 gap-4 mb-6">
        <div class="card p-4 rounded shadow text-center" data-group="job" data-value="Internship">Internship</div>
        <div class="card p-4 rounded shadow text-center" data-group="job" data-value="Fulltime">Full-Time</div>
        <div class="card p-4 rounded shadow text-center" data-group="job" data-value="Parttime">Part-Time</div>
      </div>
      <input type="hidden" name="jobType" id="jobTypeInput" />
      <input type="text" placeholder="Job Title" id="job_title" name="job_title" class="w-full border border-gray-300 p-3 rounded mb-4" required />
      <input type="text" placeholder="Job Location" id="job_location" name="job_location" class="w-full border border-gray-300 p-3 rounded mb-4" required />
      <input type="number" step="0.01" id="company_package" name="company_package" placeholder="Offered Package (LPA)" class="w-full border border-gray-300 p-3 rounded mb-4" required />
      <h3 class="text-lg font-semibold mb-2">Job Domain</h3>
      <div class="grid grid-cols-3 gap-4 mb-4">
        <div class="card p-4 rounded shadow text-center" data-group="domain" data-value="Web Dev">Web Development</div>
        <div class="card p-4 rounded shadow text-center" data-group="domain" data-value="AI/ML">AI/ML</div>
        <div class="card p-4 rounded shadow text-center" data-group="domain" data-value="Data Science">Data Science</div>
        <div class="card p-4 rounded shadow text-center" data-group="domain" data-value="Cybersecurity">Cybersecurity</div>
        <div class="card p-4 rounded shadow text-center" data-group="domain" data-value="Cloud Computing">Cloud Computing</div>
        <div class="card p-4 rounded shadow text-center" data-group="domain" data-value="Product Management">Product Management</div>
        <div class="card p-4 rounded shadow text-center" data-group="domain" data-value="Mobile Development">Mobile/iOS Development</div>
        <div class="card p-4 rounded shadow text-center" data-group="domain" data-value="Data Analysis">Data Analysis</div>
        <div class="card p-4 rounded shadow text-center" data-group="domain" data-value="Others">Others</div>
      </div>
      <input type="hidden" name="domains" id="domainsInput" />
    </div>

    <div class="form-step hidden">
      <h2 class="text-2xl font-bold mb-4">Recruit Preference</h2>
      <input type="text" id="branch" name="branch" placeholder="Branch/Major" class="w-full border border-gray-300 p-3 rounded mb-4" required />
      <input type="number" step="0.01" id="min_cgpa" name="min_cgpa" placeholder="Minimum CGPA" class="w-full border border-gray-300 p-3 rounded mb-4" required />
      <input type="number" step="1" id="year_exp" name="year_exp" placeholder="Years of Experience" class="w-full border border-gray-300 p-3 rounded mb-4" required />
      <select id="gender" name="gender" class="w-full border border-gray-300 p-3 rounded mb-4" required>
        <option value="">Select Gender</option>
        <option value="Male">Male</option>
        <option value="Female">Female</option>
        <option value="Both">Both</option>
      </select>
      
    </div>

    <div class="form-step hidden">
      <h2 class="text-xl font-semibold mb-4">Upload Job Description</h2>
      <div class="upload-box">
        <input name="job_desc" type="file" class="hidden" id="jobUpload" accept="application/pdf" required />
        <label for="jobUpload" class="cursor-pointer text-green-700 font-medium">Click to upload the job description(PDF only)</label>
      </div>
    </div>


    <div class="form-step hidden">
      <h2 class="text-2xl font-bold mb-4">Review Your Details</h2>
      <div id="reviewSection" class="bg-white rounded shadow text-sm">
        <div class="grid grid-cols-2 border-b border-black divide-x divide-black">
          <div class="p-4 space-y-1">
            <h3 class="text-black font-semibold">Company Name</h3>
            <p id="r_company_name" class="text-gray-800 font-medium"></p>
          </div>
          <div class="p-4 space-y-1">
            <h3 class="text-black font-semibold">Job Title</h3>
            <p id="r_job_title" class="text-gray-800 font-medium"></p>
          </div>
        </div>
        <div class="grid grid-cols-2 border-b border-black divide-x divide-black">
          <div class="p-4 space-y-1">
            <h3 class="text-black font-semibold">Company Email</h3>
            <p id="r_company_email" class="text-gray-800 font-medium"></p>
          </div>
          <div class="p-4 space-y-1">
            <h3 class="text-black font-semibold">Offered Package</h3>
            <p id="r_company_package" class="text-gray-800 font-medium"></p>
          </div>
        </div>
        <div class="grid grid-cols-2 border-b border-black divide-x divide-black">
          <div class="p-4 space-y-1">
            <h3 class="text-black font-semibold">Preferred Major</h3>
            <div id="r_branch" class="flex flex-wrap justify-center"></div>
          </div>
          <div class="p-4 space-y-1">
            <h3 class="text-black font-semibold">Job Type</h3>
            <p id="r_jobType" class="flex flex-wrap justify-center"></p>
          </div>
        </div>
        <div class="grid grid-cols-2 border-b border-black divide-x divide-black">
          <div class="p-4 space-y-1">
            <h3 class="text-black font-semibold">Preferred Gender</h3>
            <p id="r_gender" class="text-gray-800 font-medium"></p>
          </div>
          <div class="p-4 space-y-1">
            <h3 class="text-black font-semibold">Minimum CGPA</h3>
            <p id="r_min_cgpa" class="text-gray-800 font-medium"></p>
          </div>
        </div>
        <div class="grid grid-cols-2 border-b border-black divide-x divide-black">
          <div class="p-4 space-y-1">
            <h3 class="text-black font-semibold">Job Domain</h3>
            <p id="r_domains" class="flex flex-wrap justify-center"></p>
          </div>
          <div class="p-4 space-y-1">
            <h3 class="text-black font-semibold">Description</h3>
            <p id="r_job_desc" class="text-gray-800 font-medium"></p>
          </div>
        </div>
      </div>
    </div>

    <div class="flex justify-between pt-4">
      <button type="button" id="prevBtn" class="px-6 py-2 bg-gray-300 text-gray-800 rounded">Back</button>
      <button type="button" id="nextBtn" class="px-6 py-2 bg-black text-white rounded">Next</button>
    </div>
  </form>

  <script>
    const steps = document.querySelectorAll(".form-step");
    const progressBar = document.getElementById("progressBar");
    const nextBtn = document.getElementById("nextBtn");
    const prevBtn = document.getElementById("prevBtn");
    const form = document.getElementById("recruiterForm");
    const stepLabels = [...document.querySelectorAll(".step-indicator span")];

    let currentStep = 0;

    function updateStepUI() {
      steps.forEach((step, i) => step.classList.toggle("hidden", i !== currentStep));
      stepLabels.forEach((label, i) => label.classList.toggle("active", i === currentStep));
      progressBar.style.width = `${((currentStep + 1) / steps.length) * 100}%`;
      prevBtn.disabled = currentStep === 0;
      if (currentStep === steps.length - 1) {
  nextBtn.textContent = "Submit";
  nextBtn.classList.remove("bg-black", "text-white");
  nextBtn.classList.add("bg-green-600", "text-white", "hover:bg-green-700");
} else {
  nextBtn.textContent = "Next";
  nextBtn.classList.remove("bg-green-600", "hover:bg-green-700");
  nextBtn.classList.add("bg-black", "text-white");
}

    }

    nextBtn.addEventListener("click", () => {
  const currentFields = steps[currentStep].querySelectorAll("input, select");

  for (let field of currentFields) {
    if (!field.checkValidity()) {
      field.reportValidity();
      return;
    }
  }

  if (currentStep === steps.length - 1) {
    nextBtn.type = "submit";
    alert("Job added successfully");
    return;
  }

  if (currentStep === steps.length - 2) {
    const data = new FormData(form);
    document.getElementById("r_company_name").textContent = data.get("company_name");
    document.getElementById("r_company_email").textContent = data.get("company_email");
    document.getElementById("r_job_title").textContent = data.get("job_title");
    document.getElementById("r_company_package").textContent = data.get("company_package");
    document.getElementById("r_gender").textContent = data.get("gender");
    document.getElementById("r_min_cgpa").textContent = data.get("min_cgpa");

    // Branch chip
    document.getElementById("r_branch").innerHTML = `<span class="px-3 py-1 rounded-full text-white bg-blue-500 mx-1 mb-1">${data.get("branch")}</span>`;

    // Job Type chip
    const jobType = data.get("jobType");
    document.getElementById("r_jobType").innerHTML = jobType
      ? `<span class="px-3 py-1 rounded-full text-white bg-green-500 mx-1 mb-1">${jobType}</span>`
      : "";

    // Interests chips
    const interests = data.get("domains").split(", ").filter(Boolean);
    const colors = ["bg-red-500", "bg-yellow-500", "bg-purple-500", "bg-pink-500", "bg-indigo-500", "bg-teal-500"];
    const chips = interests.map((item, index) => 
      `<span class="px-3 py-1 rounded-full text-white ${colors[index % colors.length]} mx-1 mb-1">${item}</span>`
    ).join("");
    document.getElementById("r_domains").innerHTML = chips;

    // Resume name
    const resumeInput = document.getElementById("jobUpload");
    const fileName = resumeInput.files[0]?.name || "No file selected";
    document.getElementById("r_job_desc").textContent = fileName;
  }

  currentStep++;
  updateStepUI();
});


    prevBtn.addEventListener("click", () => {
      currentStep--;
      updateStepUI();
    });

    document.querySelectorAll(".card").forEach(card => {
      card.addEventListener("click", () => {
        const group = card.dataset.group;
        if (group === "job") {
          document.querySelectorAll(`.card[data-group="${group}"]`).forEach(c => c.classList.remove("selected"));
          card.classList.add("selected");
        } else {
          card.classList.toggle("selected");
        }

        const selected = [...document.querySelectorAll(`.card[data-group="${group}"].selected`)].map(c => c.dataset.value);
        document.getElementById(group === "job" ? "jobTypeInput" : "domainsInput").value = selected.join(", ");
      });
    });

    updateStepUI();
    
    // Side Drawer Toggle
const menuToggle = document.getElementById("menuToggle");
const sideDrawer = document.getElementById("sideDrawer");
const backdrop = document.getElementById("backdrop");

menuToggle.addEventListener("click", () => {
  sideDrawer.classList.toggle("-translate-x-full");
  backdrop.classList.toggle("hidden");
});

backdrop.addEventListener("click", () => {
  sideDrawer.classList.add("-translate-x-full");
  backdrop.classList.add("hidden");
});

// Profile Dropdown
const profileBtn = document.getElementById("profileBtn");
const profileDropdown = document.getElementById("profileDropdown");

profileBtn.addEventListener("click", () => {
  profileDropdown.classList.toggle("hidden");
});

document.addEventListener("click", (e) => {
  if (!profileBtn.contains(e.target) && !profileDropdown.contains(e.target)) {
    profileDropdown.classList.add("hidden");
  }
});

  </script>
</body>
</html>